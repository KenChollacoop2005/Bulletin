<div
  id="pamphlet"
  class="poster pamphlet poster-1"
  style="top: 25%; left: 25%; transform: rotate(-2deg)"
>
  <style>
    :root {
      --panelW: 110px;
      --panelH: 256px;
    }

    .pamphlet {
      padding: 0;
      width: var(--panelW);
      height: var(--panelH);
      overflow: visible;
      perspective: 1200px;
      transform-style: preserve-3d;
      background: transparent;
    }

    .pamphlet .panel {
      position: absolute;
      top: 0;
      width: var(--panelW);
      height: var(--panelH);
      transform-style: preserve-3d;
      border: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.8s ease;
      backface-visibility: hidden;
    }

    .panel .face {
      position: absolute;
      inset: 0;
      padding: 0;
      backface-visibility: hidden;
      background-size: cover;
      background-position: center;
    }

    /* Wrapper for images to prevent blur during flip */
    .panel .face .face-content {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      backface-visibility: hidden;
      transform-style: preserve-3d;
      transform: translateZ(0);
      will-change: transform;
    }

    .panel .face img {
      /* Pre-render full-size then scale down to match new panel size */
      width: auto;
      height: auto;
      max-width: 1100px; /* full preview size */
      max-height: 2560px;
      object-fit: cover;
      image-rendering: -webkit-optimize-contrast;
      image-rendering: crisp-edges;
      transform: scale(0.25);
      will-change: transform;
    }

    .panel .face.back {
      transform: rotateY(180deg);
    }

    /* Panel positions/origins */
    .panel.coverpanel {
      transform-origin: right center;
      left: 0;
      z-index: 3;
    }
    .panel.leftpanel {
      transform-origin: right center;
      left: 0;
      z-index: 2;
    }
    .panel.rightpanel {
      transform-origin: left center;
      left: 0;
      z-index: 2;
    }

    /* Closed state */
    .pamphlet:not(.open) .panel.coverpanel {
      transform: rotateY(0deg);
    }
    .pamphlet:not(.open) .panel.leftpanel {
      transform: rotateY(0deg);
    }
    .pamphlet:not(.open) .panel.rightpanel {
      transform: rotateY(0deg);
    }

    /* Open state */
    .pamphlet.open .panel.coverpanel {
      transform: rotateY(180deg);
    }
    .pamphlet.open .panel.leftpanel {
      transform: rotateY(0deg);
    }
    .pamphlet.open .panel.rightpanel {
      transform: rotateY(0deg);
    }

    /* Misc behaviour */
    #pamphlet {
      overflow: visible;
      background: transparent !important;
      border: none !important;
      outline: none !important;
    }

    /* Polaroid */
    #pamphlet .SDCpolaroid {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 138px;
      height: 138px;
      transform: translate(-50%, -50%) rotate(0deg);
      z-index: 2;
      pointer-events: none;
      transition: transform 0.7s cubic-bezier(0.25, 0.8, 0.25, 1);
      will-change: transform;
    }
    #pamphlet .SDCpolaroid img {
      max-width: 100%;
      max-height: 100%;
      display: block;
      image-rendering: -webkit-optimize-contrast;
      image-rendering: crisp-edges;
    }
    #pamphlet.poster-active .SDCpolaroid {
      transform: translate(calc(-50% - 110px), -25%) rotate(-9deg);
      transition-delay: 0.7s;
    }
    @media (max-width: 640px) {
      #pamphlet .SDCpolaroid {
        width: 72px;
        height: 72px;
      }
      #pamphlet.poster-active .SDCpolaroid {
        transform: translate(calc(-50% - 110px), -50%) rotate(-9deg);
      }
    }
  </style>

  <!-- Cover Panel -->
  <div class="panel coverpanel">
    <div class="face front">
      <div class="face-content">
        <img src="Assets/PamphletCover.png" alt="Pamphlet Cover" />
      </div>
    </div>
    <div class="face back">
      <div class="face-content">
        <img src="Assets/PamphletRight.png" alt="Pamphlet Right" />
      </div>
    </div>
  </div>

  <!-- Inside Left Panel -->
  <div class="panel leftpanel">
    <div class="face front">
      <div class="face-content">
        <img src="Assets/PamphletLeft.png" alt="Pamphlet Left" />
      </div>
    </div>
    <div class="face back" style="background: #fafafa">
      <h2>Back</h2>
      <p>Back side of pamphlet.</p>
    </div>
  </div>

  <!-- Inside Right Panel -->
  <div class="panel rightpanel">
    <div class="face front"></div>
    <div class="face back" style="background: #fafafa"></div>
  </div>

  <!-- Pamphlet SDC Polaroid -->
  <div class="SDCpolaroid">
    <img
      src="Assets/SDCpolaroid2.png"
      alt="Pamphlet SDC Polaroid"
      decoding="async"
      fetchpriority="low"
    />
  </div>
</div>
